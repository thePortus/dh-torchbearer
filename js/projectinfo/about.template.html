<!DOCTYPE html>
<div layout="column">
  <div class="lightLabel">
    About This Project:
  </div>
  <div ng-if="vm.editFlag===false" layout="column" layout-padding>
    <div ng-repeat="paragraph in vm.about" class="dhTextBox">
      <span ng-if="paragraph.title" class="dhLabel">
        {{paragraph.title}}
      </span>
      <div class="dhContent">
        {{paragraph.content}}
      </div>
    </div>
  </div>
  <div>
    <div ng-if="vm.editFlag===true" layout="column" layout-padding>
      <div ng-repeat="paragraph in vm.about" layout="column">
        <md-input-container>
          <input type="text" ng-model="paragraph.title" aria-label="Paragraph Title Input">
        </md-input-container>
        <md-input-container>
          <input type="text" ng-model="paragraph.content" aria-label="Paragraph Content Input">
        </md-input-container>
      </div>
      <div layout="column">
        <md-button ng-if="vm.addFlag===false" ng-click="vm.addFlag=!vm.addFlag">
          <md-icon md-font-library="material-icons" class="dhGreen">add_circle</md-icon>
          Add New Paragraph
        </md-button>
      </div>
      <div ng-if="vm.addFlag" layout="column">
        <div>
          <md-input-container>
            <input type="text" ng-model="vm.addParagraph.title" placeholder="Enter (optional) paragraph title" aria-label="Paragraph Title Input">
          </md-input-container>
          <md-input-container>
            <textarea ng-model="vm.addParagraph.content" placeholder="Enter paragraph content" aria-label="Paragraph Title Input"></textarea>
          </md-input-container>
        </div>
        <div layout="row">
          <md-button ng-click="vm.add()" flex>
            <md-icon md-font-library="material-icons" class="dhGreen">add_circle</md-icon>
            Create Paragraph
          </md-button>
          <md-button ng-click="vm.addFlag=!vm.addFlag" flex>
            <md-icon md-font-library="material-icons" class="dhRed">cancel</md-icon>
            Cancel Paragraph
          </md-button>
        </div>
      </div>
      <div layout="row">
        <md-button ng-click="vm.update()" flex>
          <md-icon md-font-library="material-icons" class="dhGreen">done</md-icon>
          Update About This Project
        </md-button>
        <md-button ng-click="vm.editFlag=!vm.editFlag" flex>
          <md-icon md-font-library="material-icons" class="dhRed">cancel</md-icon>
          Cancel Update
        </md-button>
      </div>
    </div>
  </div>
  <div ng-if="vm.role=='Master' && !vm.editFlag" layout="column">
    <md-button ng-click="vm.editFlag=!vm.editFlag">
      <md-icon md-font-library="material-icons" class="dhGreen">edit</md-icon>
      Edit About This Project
    </md-button>
  </div>
</div>